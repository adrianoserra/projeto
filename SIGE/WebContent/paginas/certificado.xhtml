<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Expires" content="0" />
    <title>SIGE - Certificado</title>
    <link rel="stylesheet" href="../css/certificado.css" />
    <link href="https://fonts.googleapis.com/css?family=Nunito:400,400i,700display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://use.typekit.net/sje0nji.css">
    </link>

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />

</h:head>


<body>
    <h:form id="form">

        <div id="dados">
            <div id="certificado" style="position: relative;">
                <img style="width: 30cm; height: 20cm; z-index: 1;" src="../img/certificadopdf.png"></img>

                <div
                    style="position: absolute; z-index: 2; bottom: 276px; left: 295px; font-family: 'Adobe Caslon Pro Semibold italic'; font-size: 60px; color: #002972; text-transform: uppercase;">
                    <p:outputLabel style="font-family: 'Adobe Caslon Pro Semibold italic;"
                        value="#{cadastrarParticipanteMbean.participanteAutenticado.nome}" />
                </div>

                <div
                    style="position: absolute; z-index: 2; bottom: 228px; left: 652px; font-family: 'Adobe Caslon Pro Semibold italic'; font-size: 31px; color: #002972; text-transform: uppercase; font-weight:bold;">
                    <p:outputLabel style="font-family: 'Adobe Caslon Pro Semibold italic;"
                        value="#{cadastrarParticipanteMbean.participanteAutenticado.eventoAtual.tema}" />
                </div>

                <div
                    style="position: absolute; z-index: 2; bottom: 186px; left: 490px; font-family: 'Adobe Caslon Pro Semibold italic'; font-size: 27px; color: #939393; text-transform: uppercase; font-weight:normal">
                    <p:outputLabel style="font-family: 'Adobe Caslon Pro Semibold italic; color: #939393;"
                        value="#{cadastrarParticipanteMbean.participanteAutenticado.eventoAtual.dataEvento}" />
                </div>

                <div
                    style="position: absolute; z-index: 2; bottom: 186px; left: 774px; font-family: 'Adobe Caslon Pro Semibold italic'; font-size: 27px; color: #939393; font-weight:normal">
                    <p:outputLabel style="font-family: 'Adobe Caslon Pro Semibold italic; color: #939393;"
                        value="#{cadastrarParticipanteMbean.participanteAutenticado.eventoAtual.cargaHoraria}" />
                </div>

                <div id="data"
                    style="position: absolute; z-index: 2; bottom: 80px; left: 144px; font-family: 'Adobe Caslon Pro Semibold italic'; font-size: 30px; color: black;">
                    <script>
                        const zeroFill = n => {
                            return ('0' + n).slice(-2);
                        }

                        // Cria intervalo
                        const interval = setInterval(() => {
                            // Pega o hor√°rio atual
                            const now = new Date();

                            // Formata a data conforme dd/mm/aaaa
                            const dataHora = zeroFill(now.getUTCDate()) + '/' + zeroFill((now.getMonth() + 1)) +
                                '/' + now.getFullYear();

                            // Exibe na tela usando a div#data
                            document.getElementById('data').innerHTML = dataHora;
                        }, 0);
                    </script>
                </div>
            </div>

        </div>
        
        <p:graphicImage id="imagem" value="../img/pdf_baixar.png"
                                        style="width: 150px; height: 155px; float:right; position:absolute;
                                        top: 180px; right: 35px"
                                         /> 


        <p:commandButton style="position:absolute; right:0px; top:350px; background:rgb(171, 0, 0) ; color: white" value="SALVAR COMO PDF" onclick="funcao_pdf()" />








    </h:form>

</body>

<script>
    function funcao_pdf() {
        var pegar_dados = document.getElementById('dados').innerHTML;

        var janela = window.open('', '', 'width=1000, heigth=800');
        janela.document.write('<html><head>');
        janela.document.write('<title>PDF</title></head>');
        janela.document.write('<body>');
        janela.document.write(pegar_dados);
        janela.document.write('</body></html>');
        janela.document.close();
        janela.print();

    }

    function RetornaDataAtual() {
        var dNow = new Date();

        var localdate = dNow.getDate() + '/' + (dNow.getMonth() + 1) + '/' + dNow.getFullYear();

        return localdate;

    }
</script>

</html>